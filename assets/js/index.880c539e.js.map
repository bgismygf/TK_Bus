{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?3835","webpack:///./src/App.vue","webpack:///./src/composition/store.js","webpack:///./src/App.vue?6697","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?378f","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/views/Home.vue?9855"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","state","reactive","listSwitch","routeNumber","routeData","routeName","direction","directionName","busArrivalData","oneWay","myLocation","nearestStationDisplay","frequentData","frequentJudge","getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","fetchKhLocation","url","fetch","headers","then","res","json","getFrequentJudge","JSON","parse","localStorage","getItem","setup","__exports__","render","class","style","id","href","listSwitchControl","gps","frequenStopMark","type","goBacklist","directionSwitch","disabled","item","index","itemPopup","addFrequentStop","frequentStop","srrivalDisplay","stopName","aria-label","aria-describedby","placeholder","fliterRouteNumber","routeSwitchToStop","RouteName","Zh_tw","DepartureStopNameZh","DestinationStopNameZh","directionStopName","removeFrequentStop","map","khStore","listName","removeCircle","removeMark","eachLayer","layer","Marker","removeLayer","fetchStation","closePopup","center","minZoom","maxZoom","zoom","zoomControl","attributionControl","tileLayer","addTo","setInterval","updateData","testfrequenStop","last","Stops","directionData","StopName","getBusArrivalTime","filterDirection","filter","Direction","forEach","item1","item2","stopStatus","StopStatus","isLastBus","IsLastBus","nextBusTime","NextBusTime","estimateTime","EstimateTime","estimatedArrivalDisplay","positionLat","StopPosition","PositionLat","positionLon","PositionLon","frequentStopJudge","len","Math","round","centerArray","distance","centerZoom","getMark","setView","minute","timeArrayToString","time","timeArray","Array","from","T","indexOf","join","popup","minWidth","setLatLng","setContent","openPopup","e","locate","watch","on","onLocationFound","latlng","lat","lng","marker","circle","color","fillColor","fillOpacity","radius","range","positionRange","latTop","latDown","lngLeft","lngRight","getAllStationPosition","getTime","nearestStation","SubRouteName","position","addLayer","bindPopup","template","array","setItem","stringify","removeItem","Circle","routes","path","component","Home","router","createRouter","history","createWebHashHistory","createApp","App","use","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,MAAS,GAGNK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,WAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,uLCCE,eAEM,YADJ,eAAc,K,kDCCZyC,EAAQC,eAAS,CACrBC,WAAY,OACZC,YAAa,GACbC,UAAW,GACXC,UAAW,GACXC,UAAW,EACXC,cAAe,GACfC,eAAgB,GAChBC,QAAQ,EACRC,WAAY,GACZC,sBAAuB,GACvBC,aAAc,GACdC,cAAe,KAGXC,EAAyB,WAC7B,IAAMC,EAAQ,mCACRC,EAAS,8BACTC,GAAY,IAAIC,MAAOC,cACvBC,EAAS,IAAIC,OAAM,QAAS,QAClCD,EAAOE,WAAWN,EAAQ,QAC1BI,EAAOG,OAAP,kBAAyBN,IACzB,IAAMO,EAAOJ,EAAOK,QAAQ,OACtBC,EACA,kBACAX,EACA,0DACAS,EACA,IACF,MAAO,CAAEE,cAAeA,EAAe,SAAUT,IAGjDU,EAAe,yDAAG,WAAOxB,GAAP,4FACF,KAAhBA,EADkB,uBACIH,EAAMI,UAAY,GADtB,iCAEhBwB,EAFgB,wEAEuDzB,EAFvD,0BAGH0B,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAHjE,OAGhBA,EAHgB,OAItBjC,EAAMI,UAAY6B,EAJI,2CAAH,sDAOfC,EAAmB,WACvBlC,EAAMa,cAAgBsB,KAAKC,MAAMC,aAAaC,QAAQ,mBAAqB,IAI9D,GACbtC,QACA2B,kBACAO,oBDxCa,GACb3D,KAAM,MACNgE,MAFa,WAGX,eAAQ,UAAW,GACnB,EAAQL,qB,iCEPZ,MAAMM,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,Q,eCRRC,MAAM,Q,GACJA,MAAM,SAASC,MAAA,kB,GACbD,MAAM,6BACDC,MAAA,gB,GACJD,MAAM,iD,GACJA,MAAM,Y,mBAIHA,MAAM,e,GAGTA,MAAM,Y,EAIN,eAA0B,KAAvBA,MAAM,cAAY,S,GAArB,G,GAGAA,MAAM,Y,EAIN,eAAqC,KAAlCA,MAAM,yBAAuB,S,GAAhC,G,GAGAA,MAAM,Y,EAIN,eAAmC,KAAhCA,MAAM,uBAAqB,S,GAA9B,G,GAKHA,MAAM,iB,GACJA,MAAM,qB,SAEFA,MAAM,Y,ulDACT,G,SA6DCA,MAAM,2B,GAEHA,MAAM,yB,GACLA,MAAM,0D,EAGP,eAA4B,KAAzBA,MAAM,gBAAc,S,GAAvB,G,GAEIA,MAAM,a,iBAGV,eAA8B,KAA3BA,MAAM,kBAAgB,S,GAAzB,G,GAGCA,MAAM,gBAAgBC,MAAA,gC,uBAMhBD,MAAM,Q,uBAEJA,MAAM,gB,SACNA,MAAM,mB,GACT,eACqD,KADlDA,MAAM,oDACPC,MAAA,4C,aADF,I,IAKAD,MAAM,OAAOC,MAAA,sB,IACfD,MAAM,eAAeC,MAAA,sB,IAKxBD,MAAM,e,IAORA,MAAM,gCAAgCC,MAAA,gC,UACrCD,MAAM,iB,mBAGCA,MAAM,2B,IACJA,MAAM,8C,IAGNA,MAAM,iC,IAWdA,MAAM,kC,GACT,eAAkD,MAA9CA,MAAM,0BAAyB,cAAU,G,GAG3C,eAAqC,KAAlCA,MAAM,yBAAuB,S,IAAhC,I,IAGCA,MAAM,gCAAgCC,MAAA,gC,IACvCD,MAAM,iB,mBAICA,MAAM,2B,IACJA,MAAM,8C,IAGNA,MAAM,iC,IACNA,MAAM,Q,IACJA,MAAM,kC,IACHA,MAAM,W,yBAELA,MAAM,gB,UACNA,MAAM,mB,GACT,eACqD,KADlDA,MAAM,oDACPC,MAAA,4C,aADF,I,IAKHD,MAAM,Q,GAUnB,eAEM,OAFDA,MAAM,kCAAgC,CACzC,eAA0C,MAAtCA,MAAM,kBAAiB,gB,OAExBA,MAAM,gCAAgCC,MAAA,gC,IACvCD,MAAM,iB,mBAGCA,MAAM,2B,IACJA,MAAM,qD,IACNA,MAAM,mB,kBAGL,eAAmC,KAAhCA,MAAM,uBAAqB,S,IAA9B,I,IAGDA,MAAM,iC,IACNA,MAAM,Q,IACNA,MAAM,Q,IACNA,MAAM,Q,GAUzB,eAEM,OAFDA,MAAM,uCAAqC,CAC9C,eAAoB,OAAfE,GAAG,U,oDApOhB,eAwOM,MAxON,EAwOM,CAvOJ,eAsOM,MAtON,EAsOM,CArOJ,eAgCM,MAhCN,EAgCM,CA9BJ,eA6BK,KA7BL,EA6BK,CA5BH,eAMK,KANL,EAMK,CALH,eAII,KAJDC,KAAK,IAAIH,MAAM,kEACf,QAAK,+CAAU,EAAAI,kBAAiB,yB,CACX,SAAV,EAAA5C,Y,iBAAZ,eAA4C,SAAT,Q,iBACnC,eAAkC,IAAlC,QAGJ,eAMK,KANL,EAMK,CALH,eAII,KAJD2C,KAAK,IAAIH,MAAK,gBAAC,6CAA4C,cACxB,gBAAV,EAAAxC,YAA0C,qBAAV,EAAAA,cACvD,QAAK,+CAAU,EAAA4C,kBAAiB,gC,OAIvC,eAMK,KANL,EAMK,CALH,eAII,KAJDD,KAAK,IAAIH,MAAK,gBAAC,6CAA4C,cAExB,kBAAV,EAAAxC,cADvB,QAAK,8CAAU,EAAA6C,KAAA,EAAAA,IAAA,qBAAG,e,OAKzB,eAMK,KANL,EAMK,CALH,eAII,KAJDF,KAAK,IAAIH,MAAK,gBAAC,6CAA4C,cAExB,iBAAV,EAAAxC,cADvB,QAAK,8CAAU,EAAA8C,iBAAA,EAAAA,gBAAA,qBAAe,e,WAOzC,eAmMM,MAnMN,EAmMM,CAlMJ,eA8LM,MA9LN,EA8LM,CA7LsB,SAAV,EAAA9C,Y,iBACd,eA4DM,MA5DN,EA4DM,I,sBAE6C,SAAV,EAAAA,Y,iBAA3C,eA6HM,MA7HN,EA6HM,CA5HsB,qBAAV,EAAAA,Y,iBAAhB,eAgCW,gBA/BT,eAAsD,KAAtD,EAAsD,eAAjB,EAAAG,WAAS,GAC9C,eAUM,MAVN,EAUM,CATJ,eAGS,UAHD4C,KAAK,SAASP,MAAM,gCACnB,QAAK,8BAAE,EAAAQ,YAAA,EAAAA,WAAA,sB,GAGhB,eAAoD,OAApD,EAAwB,KAAE,eAAG,EAAA3C,eAAa,GAC1C,eAGS,UAHD0C,KAAK,SAASP,MAAM,gCACnB,QAAK,8BAAE,EAAAS,iBAAA,EAAAA,gBAAA,qBAAkBC,SAAU,EAAA3C,Q,SAI9C,eAkBM,MAlBN,EAkBM,E,mBAjBJ,eAgBI,2BAdkC,EAAAD,gBAAc,SAA9B6C,EAAMC,G,wBAF5B,eAgBI,KAhBDT,KAAK,IAAIH,MAAM,kFAEqCpD,IAAK+D,EAC7C,QAAK,mBAAE,EAAAE,UAAUF,K,CAC9B,eASM,YARoBC,EAAQ,IAAM,EAAA9C,eAAe7D,Q,iBAArD,eAAmE,MAAnE,I,sBACA,eAMI,KANDkG,KAAK,IAAK,QAAK,mCAAe,EAAAW,gBAAgBH,KAAI,qB,EACF,IAAjBA,EAAKI,c,iBAArC,eAAmE,MAAnE,K,iBACA,eAGM,MAHN,EAGM,M,OAGV,eAA2E,OAA3E,GAA2E,eAA7BJ,EAAKK,gBAAc,GACjE,eAAyE,KAAzE,GAAyE,eAArBL,EAAKM,UAAQ,I,4CAI7C,gBAAV,EAAAzD,Y,iBAAhB,eAwBW,gBAvBT,eAMM,MANN,GAMM,C,eALF,eAIqD,SAJ9C+C,KAAK,OAAOP,MAAM,0BACrBkB,aAAW,uBACXC,mBAAiB,4BACjBC,YAAY,U,qDACH,EAAA3D,YAAW,IAAG,QAAK,8BAAE,EAAA4D,mBAAA,EAAAA,kBAAA,sB,mBAArB,EAAA5D,iBAEnB,eAeQ,MAfR,GAeQ,CAd0B,EAAAC,UAAUzD,OAAM,G,iBAAhD,eAaK,KAbL,GAaK,E,mBAZH,eAWK,2BAXmD,EAAAyD,WAAS,SAAjBiD,G,wBAAhD,eAWK,MAXDX,MAAM,+BAA0DpD,IAAK+D,G,CACvE,eASI,KATDR,KAAK,IAAIH,MAAM,uBAAwB,QAAK,mCAAU,EAAAsB,kBAAkBX,EAAKY,UAAUC,SAAK,c,CAC7F,eAOM,MAPN,GAOM,CANJ,eAEM,MAFN,GAEM,eADDb,EAAKY,UAAUC,OAAK,GAEzB,eAEM,MAFN,GAEM,eADHb,EAAKc,qBAAsB,MAAG,eAAGd,EAAKe,uBAAqB,M,wEAS9C,kBAAV,EAAAlE,Y,iBAAhB,eAoCW,gBAnCT,eAMM,MANN,GAMM,CALJ,GACA,eAGI,KAHDwC,MAAM,iCAAiCC,MAAA,qBAAwBE,KAAK,IAClE,QAAK,8CAAU,EAAAE,KAAA,EAAAA,IAAA,qBAAG,e,MAIzB,eA2BM,MA3BN,GA2BM,CA1BN,eAyBK,KAzBL,GAyBK,E,mBAxBH,eAuBK,2BAtBc,EAAApC,uBAAqB,SAA7B0C,G,wBADX,eAuBK,MAvBDX,MAAM,+BACiCpD,IAAK+D,G,CAC9C,eAoBI,KApBDR,KAAK,IAAIH,MAAM,uBAAwB,QAAK,mCAAU,EAAAa,UAAUF,KAAI,c,CACrE,eAkBM,MAlBN,GAkBM,CAjBJ,eAEM,MAFN,GAEM,eADDA,EAAKhD,WAAS,GAEnB,eAaM,MAbN,GAaM,CAZJ,eAAmD,IAAnD,GAAgB,MAAG,eAAGgD,EAAKgB,mBAAiB,GAC5C,eASM,MATN,GASM,CARJ,eAAmD,OAAnD,GAAsB,MAAG,eAAGhB,EAAKM,UAAQ,GACzC,eAMI,KANDd,KAAK,IAAM,QAAK,mCAAe,EAAAW,gBAAgBH,KAAI,qB,EACH,IAAjBA,EAAKI,c,iBAArC,eAAmE,MAAnE,M,iBACA,eAGM,MAHN,GAGM,M,QAGV,eAAgD,IAAhD,GAAgB,MAAG,eAAGJ,EAAKK,gBAAc,Q,iDAS3B,iBAAV,EAAAxD,Y,iBAAhB,eA0BW,gBAzBT,GAGA,eAqBM,MArBN,GAqBM,CApBN,eAmBK,KAnBL,GAmBK,E,mBAlBH,eAiBK,2BAjBmD,EAAAU,cAAY,SAApByC,G,wBAAhD,eAiBK,MAjBDX,MAAM,+BAA6DpD,IAAK+D,G,CAC1E,eAeI,KAfDR,KAAK,IAAIH,MAAM,uBAAwB,QAAK,mCAAe,EAAAa,UAAUF,KAAI,qB,CAC1E,eAaM,MAbN,GAaM,CAZJ,eAMM,MANN,GAMM,CALJ,eAAmD,IAAnD,GAAmD,eAArBA,EAAKhD,WAAS,GAC5C,eAGM,KAHHwC,KAAK,IAAIH,MAAM,qBACd,QAAK,mCAAe,EAAA4B,mBAAmBjB,KAAI,qB,WAIjD,eAIM,MAJN,GAIM,CAHJ,eAAmD,IAAnD,GAAgB,MAAG,eAAGA,EAAKgB,mBAAiB,GAC5C,eAA0C,IAA1C,GAAgB,MAAG,eAAGhB,EAAKM,UAAQ,GACnC,eAAgD,IAAhD,GAAgB,MAAG,eAAGN,EAAKK,gBAAc,Q,4EAUzD,S,2HAaO,IACbnF,KAAM,OACNgE,MAFa,WAGX,IAEIgC,EAFEC,EAAU,eAAO,WACfxE,EAAUwE,EAAVxE,MAGF8C,EAAoB,SAAC2B,GACzBzE,EAAME,WAAauE,EACnBC,IACAC,KAGIZ,EAAoB,WACxBS,EAAQ7C,gBAAgB3B,EAAMG,cAG1BgD,EAAkB,WAClBnD,EAAMM,UACRN,EAAMM,UAAY,EAElBN,EAAMM,UAAY,EAEpBiE,EAAIK,WAAU,SAACC,GACTA,aAAiB,KAAEC,QACrBP,EAAIQ,YAAYF,MAGpBG,EAAahF,EAAMK,YAGf2D,EAAoB,SAACX,GACzBrD,EAAME,WAAa,mBACnBF,EAAMK,UAAYgD,EAClB2B,EAAa3B,IAGTH,EAAa,WACjBlD,EAAME,WAAa,cACnBqE,EAAIK,WAAU,SAACC,GACTA,aAAiB,KAAEC,SACrBP,EAAIQ,YAAYF,GAChBN,EAAIU,kBAKV,gBAAU,WACRV,EAAM,KAAEA,IAAI,MAAO,CACjBW,OAAQ,CAAC,MAAO,QAChBC,QAAS,EACTC,QAAS,GACTC,KAAM,GACNC,aAAa,EACbC,oBAAoB,IAGtB,KAAEC,UAAU,sDAAsDC,MAAMlB,GACxEmB,YAAYC,EAAY,QAG1B,IAAMA,EAAa,WACQ,qBAArB3F,EAAME,YACR8E,EAAahF,EAAMK,WAGI,kBAArBL,EAAME,YACR6C,IAGuB,iBAArB/C,EAAME,YACR0F,KAIAZ,EAAW,yDAAI,WAAO3B,GAAP,oGACbzB,EADa,8EACgEyB,EADhE,2BAEAxB,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAFpE,OAEbA,EAFa,OAIC,IAAhBA,EAAKtF,QACPqD,EAAMS,QAAS,EACfT,EAAMM,UAAY,GAElBN,EAAMS,QAAS,EAGXoF,EAAO5D,EAAKjC,EAAMM,WAAWwF,MAAMnJ,OAAS,EAC5CoJ,EAAgB,CACpB1F,UAAW4B,EAAKjC,EAAMM,WAAW2D,UAAUC,MAC3CP,SAAU1B,EAAKjC,EAAMM,WAAWwF,OAElC9F,EAAMO,cAAgB0B,EAAKjC,EAAMM,WAAWwF,MAAMD,GAAMG,SAAS9B,MACjE+B,EAAkB5C,EAAM0C,GAjBL,2CAAJ,sDAoBXE,EAAgB,yDAAI,WAAO5C,EAAM0C,GAAb,4GAClBnE,EADkB,yFACsEyB,EADtE,2BAELxB,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAF/D,OAElBA,EAFkB,OAIlBiE,EAAkBjE,EAAKkE,QAC3B,SAAA9C,GAAG,OAAKA,EAAK+C,YAAcpG,EAAMM,WAAgC,MAAnB+C,EAAK+C,aAEnDpG,EAAMQ,iBAAmB,IAC3BR,EAAMQ,eAAe3C,OAAO,EAAGmC,EAAMQ,eAAe7D,QAEtDoJ,EAAcpC,SAAS0C,SAAQ,SAAAC,GAC7BJ,EAAgBG,SAAQ,SAAAE,GAClBD,EAAMN,SAAS9B,QAAUqC,EAAMP,SAAS9B,OAAS6B,EAAc1F,YAAckG,EAAMtC,UAAUC,OAC/FlE,EAAMQ,eAAevD,KAAK,CACxBqD,UAAWiG,EAAMH,UACjB/B,kBAAmBrE,EAAMO,cACzBF,UAAWkG,EAAMtC,UAAUC,MAC3BP,SAAU4C,EAAMP,SAAS9B,MACzBsC,WAAYD,EAAME,WAClBC,UAAWH,EAAMI,WAAa,GAC9BC,YAAaL,EAAMM,aAAe,GAClCC,aAAcP,EAAMQ,aAAe,IAAM,GACzCrD,eAAgBsD,EAAwBT,GACxCU,YAAaX,EAAMY,aAAaC,YAChCC,YAAad,EAAMY,aAAaG,YAChC5D,aAAc6D,EAAkB,CAC9B3D,SAAU4C,EAAMP,SAAS9B,MACzB7D,UAAWL,EAAMK,UACjBC,UAAWiG,EAAMH,oBAMrBmB,EAAMvH,EAAMQ,eAAe7D,OAC7BuI,EAASsC,KAAKC,MAAMF,EAAM,GACf,IAAXrC,IACFA,EAAS,GAELwC,EAAc,CAAC1H,EAAMQ,eAAe0E,GAAQ+B,YAAajH,EAAMQ,eAAe0E,GAAQkC,aACtFO,EAAWH,KAAKC,MACpBlD,EAAIoD,SACF,CAAC3H,EAAMQ,eAAe,GAAGyG,YAAajH,EAAMQ,eAAe,GAAG4G,aAC9D,CAACpH,EAAMQ,eAAe+G,EAAM,GAAGN,YAAajH,EAAMQ,eAAe+G,EAAM,GAAGH,eAGxEQ,EAAaD,EAAW,IAAO,GAAK,GAC1ChD,IACAkD,EAAQ7H,EAAMQ,gBACd+D,EAAIuD,QAAQJ,EAAaE,GAjDC,4CAAJ,wDAoDlBN,EAAoB,SAACjE,GACzB,IAAMkE,EAAMvH,EAAMa,cAAclE,OAChC,GAAY,IAAR4K,EACF,OAAO,EAET,IAAK,IAAI9K,EAAI,EAAGA,EAAI8K,EAAK9K,IACvB,GAAIuD,EAAMa,cAAcpE,GAAGkH,WAAaN,EAAKM,UAAY3D,EAAMa,cAAcpE,GAAG4D,YAAcgD,EAAKhD,WAAaL,EAAMa,cAAcpE,GAAG6D,YAAc+C,EAAK/C,UACxJ,OAAO,EAGX,OAAO,GAGHQ,EAAyB,WAC7B,IAAMC,EAAQ,mCACRC,EAAS,8BACTC,GAAY,IAAIC,MAAOC,cACvBC,EAAS,IAAI,OAAM,QAAS,QAClCA,EAAOE,WAAWN,EAAQ,QAC1BI,EAAOG,OAAP,kBAAyBN,IACzB,IAAMO,EAAOJ,EAAOK,QAAQ,OACtBC,EACA,kBACAX,EACA,0DACAS,EACA,IACF,MAAO,CAAEE,cAAeA,EAAe,SAAUT,IAGjD+F,EAA0B,SAAC3D,GAC/B,IAAM0E,EAAS1E,EAAK0D,aAAe,IAAM,GACzC,OAAwB,IAApB1D,EAAKoD,WACQ,KAAXsB,EACK,MAGM,IAAXA,EACK,OAEP,UAAUA,EAAV,MAIoB,IAApB1E,EAAKoD,WACQ,KAAXsB,GAAsC,KAArB1E,EAAKwD,cAAuBxD,EAAKwD,YAC7C,OAEAmB,EAAkB3E,EAAKwD,cAAgB,GAI1B,IAApBxD,EAAKoD,WACA,OAGe,IAApBpD,EAAKoD,WACA,QAGe,IAApBpD,EAAKoD,WACA,aADT,GAKIuB,EAAoB,SAACC,GACzB,IAAMC,EAAYC,MAAMC,KAAKH,GACvBI,EAAIH,EAAUI,QAAQ,KAC5B,OAAOJ,EAAU/B,QAAO,SAAC9C,EAAMC,GAAP,OAAiBA,EAAQ+E,GAAK/E,EAAQ+E,EAAI,KAAGE,KAAK,KAGtEhF,EAAY,SAACF,GACjB,IAAMqE,EAAc,CAACrE,EAAK4D,YAAa5D,EAAK+D,aACtCoB,EAAQ,KAAEA,MAAM,CAClBC,SAAU,MAEdD,EAAME,UAAU,CAACrF,EAAK4D,YAAa5D,EAAK+D,cACxCoB,EAAMG,WAAN,UAAoBtF,EAAKM,WACzBY,EAAIqE,UAAUJ,GACdjE,EAAIuD,QAAQJ,EAAa,KAGrB3E,EAAM,SAAC8F,GACX7I,EAAME,WAAa,gBACnBqE,EAAIuE,OAAO,CAAChB,SAAS,EAAMiB,OAAO,IAClCxE,EAAIyE,GAAG,gBAAiBC,IAGpBA,EAAkB,SAACJ,GACvBlE,IACAD,IACA1E,EAAMW,sBAAwB,GAC9BX,EAAMU,WAAa,CACjBuG,YAAa4B,EAAEK,OAAOC,IACtB/B,YAAayB,EAAEK,OAAOE,KAIT,KAAEC,OAAO,CAACrJ,EAAMU,WAAWuG,YAAajH,EAAMU,WAAW0G,cAAc3B,MAAMlB,GAC7E,KAAE+E,OAAO,CAACtJ,EAAMU,WAAWuG,YAAajH,EAAMU,WAAW0G,aAAc,CACpFmC,MAAO,MACPC,UAAW,OACXC,YAAa,GACbC,OAAQ,MACPjE,MAAMlB,GANT,IAQMoF,EAAQ,SACRC,EAAgB,CACpBC,OAAQ7J,EAAMU,WAAWuG,YAAc0C,EACvCG,QAAS9J,EAAMU,WAAWuG,YAAa0C,EACvCI,QAAS/J,EAAMU,WAAW0G,YAAcuC,EACxCK,SAAUhK,EAAMU,WAAW0G,YAAcuC,GAE3CM,EAAsBL,IAGlBM,EAAM,yDAAI,WAAMC,GAAN,oGACRvI,EAAM,gGADE,SAEKC,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAFzE,OAId,IAFMA,EAFQ,OAILtE,EAAI,EAAGA,EAAIwM,EAAexN,OAAQgB,IACzC,IAASlB,EAAI,EAAGA,EAAIwF,EAAKtF,OAAQF,IAC3B0N,EAAexM,GAAGgG,WAAa1B,EAAKxF,GAAGuJ,SAAS9B,OAASiG,EAAexM,GAAG2C,YAAc2B,EAAKxF,GAAG2J,WAAa+D,EAAexM,GAAG0C,YAAc4B,EAAKxF,GAAG2N,aAAalG,OACrKlE,EAAMW,sBAAsB1D,KAAK,CAC/BqD,UAAW6J,EAAexM,GAAG2C,UAC7B2G,YAAakD,EAAexM,GAAG0M,SAAS,GACxCjD,YAAa+C,EAAexM,GAAG0M,SAAS,GACxC1G,SAAUwG,EAAexM,GAAGgG,SAC5BtD,UAAW8J,EAAexM,GAAG0C,UAC7BgE,kBAAmB8F,EAAexM,GAAG0G,kBAAkB2B,SAAS9B,MAChER,eAAgBsD,EAAwB,CACtCD,aAAc9E,EAAKxF,GAAGsK,aACtBN,WAAYxE,EAAKxF,GAAGgK,WACpBI,YAAa5E,EAAKxF,GAAGoK,cAEvBC,aAAc7E,EAAKxF,GAAGsK,cAAgB,GACtCP,WAAYvE,EAAKxF,GAAGgK,WACpBG,YAAa3E,EAAKxF,GAAGoK,aAAe,GACpCpD,aAAc6D,EAAkB,CAC9B3D,SAAUwG,EAAexM,GAAGgG,SAC5BtD,UAAW8J,EAAexM,GAAG0C,UAC7BC,UAAW6J,EAAexM,GAAG2C,cAMvCuH,EAAQ7H,EAAMW,uBA/BA,2CAAJ,sDAkCNsJ,EAAoB,yDAAI,WAAMN,GAAN,sGACtB/H,EAAM,qFADgB,SAETC,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAF3D,OAI5B,IAFMA,EAFsB,OAGtBkI,EAAiB,GACd1N,EAAI,EAAGA,EAAIwF,EAAKtF,OAAQF,IAC/B,IAASkB,EAAI,EAAGA,EAAIsE,EAAKxF,GAAGqJ,MAAMnJ,OAAQgB,IACpCsE,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaC,aAAewC,EAAME,QAAU5H,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaC,aAAewC,EAAMG,SAC/G7H,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaG,aAAesC,EAAMK,UAAY/H,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaG,aAAgBsC,EAAMI,SACpHI,EAAelN,KAAK,CAClBqD,UAAW2B,EAAKxF,GAAG2J,UACnBiE,SAAU,CAACpI,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaC,YAAalF,EAAKxF,GAAGqJ,MAAMnI,GAAGuJ,aAAaG,aACpF1D,SAAU1B,EAAKxF,GAAGqJ,MAAMnI,GAAGqI,SAAS9B,MACpC7D,UAAW4B,EAAKxF,GAAGwH,UAAUC,MAC7BG,kBAAmBpC,EAAKxF,GAAGqJ,MAAM7D,EAAKxF,GAAGqJ,MAAMnJ,OAAS,KAMlEuN,EAAQC,GAnBoB,2CAAJ,sDAuBpBvE,EAAc,yDAAI,6GACtB5F,EAAMY,aAAe,GACrB4D,EAAQtC,mBACFN,EAAM,gGAHU,SAIHC,MAAMD,EAAK,CAAEE,QAAShB,MAA4BiB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAJjE,OAIhBA,EAJgB,OAMtBjC,EAAMa,cAAcwF,SAAQ,SAAAC,GAC1BrE,EAAKoE,SAAQ,SAAAE,GACPD,EAAMhG,YAAciG,EAAMH,WAAaE,EAAMjG,YAAckG,EAAMtC,UAAUC,OAASoC,EAAM3C,WAAa4C,EAAMP,SAAS9B,OACxHlE,EAAMY,aAAa3D,KAAK,CACtBqD,UAAWgG,EAAMhG,UACjB+D,kBAAmBiC,EAAMjC,kBACzByC,aAAcR,EAAMQ,aACpBrD,aAAc6C,EAAM7C,aACpBiD,UAAWJ,EAAMI,UACjBE,YAAaN,EAAMM,YACnBK,YAAaX,EAAMW,YACnBG,YAAad,EAAMc,YACnB/G,UAAWiG,EAAMjG,UACjBsD,SAAU2C,EAAM3C,SAChB6C,WAAYF,EAAME,WAClB9C,eAAgBsD,EAAwB,CACtCD,aAAcR,EAAMQ,aACpBN,WAAYF,EAAME,WAClBI,YAAaN,EAAMM,sBAxBP,2CAAJ,qDAiCd7D,EAAkB,WACtB0B,IACAC,IACAiB,IACA5F,EAAME,WAAa,eACnB,IAAMqH,EAAMvH,EAAMa,cAAclE,OAChC,GAAY,IAAR4K,EAAJ,CAGA,IAAIrC,EAASsC,KAAKC,MAAMF,EAAM,GACf,IAAXrC,IACFA,EAAS,GAEX,IAAMwC,EAAc,CAAC1H,EAAMa,cAAcqE,GAAQ+B,YAAajH,EAAMa,cAAcqE,GAAQkC,aAC1FpH,EAAMa,cAAcwF,SAAQ,SAAAhD,GAC1B,IAAMgG,EAAS,KAAEA,OAAO,CAAChG,EAAK4D,YAAa5D,EAAK+D,cAChD7C,EAAI+F,SAASjB,GACb,IAAMb,EAAQ,KAAEA,MAAM,CACpBC,SAAU,MAGZD,EAAMG,WAAN,UAAoBtF,EAAKM,WACzB0F,EAAOkB,UAAU/B,MAGnBjE,EAAIuD,QAAQJ,EAAa,MAGrBlE,EAAkB,SAACH,GACvB,IAAMmH,EAAO,mBACRnH,GAGDoH,EAAQ,GACa,qBAArBzK,EAAME,aACRuK,EAAQzK,EAAMQ,gBAGS,kBAArBR,EAAME,aACRuK,EAAQzK,EAAMW,uBAGZ0C,EAAKI,cACPgH,EAAMpE,SAAQ,SAAAE,GACTlD,EAAKM,WAAa4C,EAAM5C,UAAYN,EAAK/C,YAAciG,EAAMjG,WAAa+C,EAAKhD,YAAckG,EAAMlG,YACpGkG,EAAM9C,cAAe,MAGzBa,EAAmBkG,KAEnBC,EAAMpE,SAAQ,SAAAE,GACTlD,EAAKM,WAAa4C,EAAM5C,UAAYN,EAAK/C,YAAciG,EAAMjG,WAAa+C,EAAKhD,YAAckG,EAAMlG,YACpGkG,EAAM9C,cAAe,MAGzB+G,EAAS/G,cAAe,EACxBzD,EAAMa,cAAc5D,KAAKuN,GACzBnI,aAAaqI,QAAQ,gBAAiBvI,KAAKwI,UAAU3K,EAAMa,kBAIzDyD,EAAqB,SAACsG,GAC1B5K,EAAMa,cAAcwF,SAAQ,SAAChD,EAAMC,GAC7BD,EAAKgB,oBAAsBuG,EAAWvG,mBACpChB,EAAKhD,YAAcuK,EAAWvK,WAAagD,EAAKM,WAAaiH,EAAWjH,WAC1E3D,EAAMa,cAAchD,OAAOyF,EAAO,GAClCtD,EAAMY,aAAa/C,OAAOyF,EAAO,OAIvCjB,aAAaqI,QAAQ,gBAAiBvI,KAAKwI,UAAU3K,EAAMa,gBAClC,iBAArBb,EAAME,aACRyE,IACAkD,EAAQ7H,EAAMa,iBAIZgH,EAAU,SAAC4C,GACfA,EAAMpE,SAAQ,SAAAhD,GACZ,IAAMgG,EAAS,KAAEA,OAAO,CAAChG,EAAK4D,YAAa5D,EAAK+D,cAChD7C,EAAI+F,SAASjB,GACb,IAAMb,EAAQ,KAAEA,MAAM,CACpBC,SAAU,MAGZD,EAAMG,WAAN,UAAoBtF,EAAKM,WACzB0F,EAAOkB,UAAU/B,OAIf7D,EAAa,WACjBJ,EAAIK,WAAU,SAACC,GACTA,aAAiB,KAAEC,SACrBP,EAAIQ,YAAYF,GAChBN,EAAIU,kBAKJP,EAAe,WACnBH,EAAIK,WAAU,SAACC,GACTA,aAAiB,KAAEgG,SACrBtG,EAAIQ,YAAYF,GAChBN,EAAIU,kBAKN,0CACK,eAAOjF,IADZ,IAEE+D,oBACAZ,kBACAa,oBACAd,aACA8B,eACAlE,yBACAkG,0BACAgB,oBACAzE,YACAR,MACAkG,kBACAgB,wBACAzG,kBACAc,qBACAgD,oBACAxE,oBACAE,kBACA4C,sB,UC1sBN,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,MAErD,UCNTkF,GAAS,CACb,CACEC,KAAM,IACNxM,KAAM,OACNyM,UAAWC,KAITC,GAASC,eAAa,CAC1BC,QAASC,iBACTP,YAGaI,MCZfI,eAAUC,GAAKC,IAAIN,IAAQO,MAAM,S,kFCJjC","file":"assets/js/index.880c539e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tk_bus/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=e2bab5c6&lang=scss\"","<template>\n  <div>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport { provide } from 'vue';\nimport khStore from '@/composition/store';\n\nexport default {\n  name: 'App',\n  setup() {\n    provide('khStore', khStore);\n    khStore.getFrequentJudge();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"assets/helper/all.scss\";\n</style>\n","import { reactive } from 'vue';\nimport jsSHA from 'jssha';\n\nconst state = reactive({\n  listSwitch: 'home',\n  routeNumber: '',\n  routeData: [],\n  routeName: '',\n  direction: 0,\n  directionName: '',\n  busArrivalData: [],\n  oneWay: false,\n  myLocation: {},\n  nearestStationDisplay: [],\n  frequentData: [],\n  frequentJudge: [],\n});\n\nconst getAuthorizationHeader = () => {\n  const AppID = '41ece8284df9490b85929bce0820b67a';\n  const AppKey = '6dsr-IWEI6Zf2HVmsdal0dUthnU';\n  const GMTString = new Date().toGMTString();\n  const ShaObj = new jsSHA('SHA-1', 'TEXT');\n  ShaObj.setHMACKey(AppKey, 'TEXT');\n  ShaObj.update(`x-date: ${GMTString}`);\n  const HMAC = ShaObj.getHMAC('B64');\n  const Authorization =\n        'hmac username=\"' +\n        AppID +\n        '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n        HMAC +\n        '\"'\n      return { Authorization: Authorization, 'X-Date': GMTString }\n};\n\nconst fetchKhLocation = async (routeNumber) => {\n  if (routeNumber === '') { state.routeData = []; return; }\n  const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/Kaohsiung/${routeNumber}?$format=JSON`;\n  const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n  state.routeData = json;\n};\n\nconst getFrequentJudge = () => {\n  state.frequentJudge = JSON.parse(localStorage.getItem('frequentJudge')) || [];\n  \n};\n\nexport default {\n  state,\n  fetchKhLocation,\n  getFrequentJudge,\n};\n","import { render } from \"./App.vue?vue&type=template&id=e2bab5c6\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e2bab5c6&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\chuan\\\\Desktop\\\\tkbus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"home\">\n    <div class=\"d-flex\" style=\"height: 100vh;\">\n      <div class=\"d-flex flex-column bg-main\"\n                style=\"width: 70px;\">\n        <ul class=\"nav nav-pills flex-column mb-auto text-center\">\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"d-inline-block h5 w-100 py-3 mb-0 nav-main text-decoration-none\"\n              @click.prevent=\"listSwitchControl('home')\">\n              <span v-if=\"listSwitch !== 'home'\">TK</span>\n              <i class=\"fas fa-home\" v-else></i>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"d-inline-block h5 w-100 py-3 mb-0 nav-main\"\n                :class=\"{'nav-active' : listSwitch === 'searchRoute' || listSwitch === 'searchRoute_stop'}\"\n                @click.prevent=\"listSwitchControl('searchRoute')\">\n              <i class=\"fas fa-bus\"></i>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"d-inline-block h5 w-100 py-3 mb-0 nav-main\"\n                @click.prevent=\"gps\"\n                :class=\"{'nav-active' : listSwitch === 'nearbyStation'}\">\n              <i class=\"fas fa-map-marked-alt\"></i>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"d-inline-block h5 w-100 py-3 mb-0 nav-main\"\n                @click.prevent=\"frequenStopMark\"\n                :class=\"{'nav-active' : listSwitch === 'frequentStop'}\">\n              <i class=\"fas fa-check-circle\"></i>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"row g-0 w-100\">\n        <div class=\"col-md-7 col-lg-5\">\n          <template v-if=\"listSwitch === 'home'\">\n            <div class=\"bg-light\">\n              <h1 class=\"h5 text-main text-center py-3 border-bottom border-3\">TK Bus 高雄公車查詢</h1>\n                <h2 class=\"h5 text-main text-center my-4\">服務內容</h2>\n                <div class=\"px-3 datalist\" style=\"height: calc(100vh - 180px);\">\n                  <div class=\"row mb-4 g-0\">\n                    <div class=\"col-4\">\n                      <div class=\"d-flex flex-column text-second text-center\">\n                        <i class=\"fas fa-bus\" style=\"font-size: 26px;\"></i>\n                        <h3 class=\"h6 mt-2\">搜尋公車路線</h3>\n                      </div>\n                    </div>\n                    <div class=\"col-8\">\n                      <p class=\"text-main\">透過搜尋路線，得到公車路線，以及目前公車時間。</p>\n                    </div>\n                  </div>\n                  <div class=\"row mb-4 g-0\">\n                    <div class=\"col-4\">\n                      <div class=\"d-flex flex-column text-second text-center\">\n                        <i class=\"fas fa-map-marked-alt\" style=\"font-size: 26px;\"></i>\n                        <h3 class=\"h6 mt-2\">周圍站點搜尋</h3>\n                      </div>\n                    </div>\n                    <div class=\"col-8\">\n                      <p class=\"text-main\">透過電腦、手機等裝置的 GPS 定位出您的所在點，與您附近的車站。</p>\n                    </div>\n                  </div>\n                  <div class=\"row mb-4 g-0\">\n                    <div class=\"col-4\">\n                      <div class=\"d-flex flex-column text-second text-center\">\n                        <i class=\"fas fa-check-circle\" style=\"font-size: 26px;\"></i>\n                        <h3 class=\"h6 mt-2\">常搭站點快捷</h3>\n                      </div>\n                    </div>\n                    <div class=\"col-8\">\n                      <p class=\"text-main\">透過小圓點，讓您在下一次搭車時，從此處快速獲取常搭乘的班次資訊。</p>\n                    </div>\n                  </div>\n                  <div class=\"row mb-4 g-0\">\n                    <div class=\"col-4\">\n                      <div class=\"text-second text-center\">\n                        <div class=\"circle point mx-auto\"></div>\n                        <h3 class=\"h6 mt-2\">儲存小圓點</h3>\n                      </div>\n                    </div>\n                    <div class=\"col-8\">\n                      <p class=\"text-main\">站點名稱旁的圓點，按下後可加入到 \"常搭站點快捷\"。</p>\n                    </div>\n                  </div>\n                  <div class=\"row mb-4 g-0\">\n                    <div class=\"col-4\">\n                      <div class=\"d-flex flex-column text-second text-center\">\n                        <i class=\"far fa-clock\" style=\"font-size: 26px;\"></i>\n                        <h3 class=\"h6 mt-2\">即時更新時間</h3>\n                      </div>\n                    </div>\n                    <div class=\"col-8\">\n                      <p class=\"text-main\">30 秒一次即時更新公車預計到達時間，讓您準確時間搭車。</p>\n                    </div>\n                  </div>\n              </div>\n            </div>\n          </template>\n          <div class=\"bg-light py-3 ps-3 pe-2\" v-if=\"listSwitch !== 'home'\">\n            <template v-if=\"listSwitch === 'searchRoute_stop'\">\n              <h5 class=\"text-main text-center\">{{ routeName }}</h5>\n              <div class=\"d-flex justify-content-between align-items-center mb-4\">\n                <button type=\"button\" class=\"btn btn-outline-second btn-sm\"\n                        @click=\"goBacklist\">\n                  <i class=\"fas fa-reply\"></i>\n                </button>\n                <span class=\"text-main\">往 {{ directionName }}</span>\n                <button type=\"button\" class=\"btn btn-outline-second btn-sm\"\n                        @click=\"directionSwitch\" :disabled=\"oneWay\">\n                  <i class=\"fas fa-retweet\"></i>\n                </button>\n              </div>\n              <div class=\"datalist px-2\" style=\"height: calc(100vh - 151px);\">\n                <a href=\"#\" class=\"d-flex align-items-center mb-3 position-relative\n                              text-decoration-none text-main\"\n                              v-for=\"(item, index) in busArrivalData\" :key=\"item\"\n                              @click=\"itemPopup(item)\">\n                  <div>\n                    <div class=\"line\" v-if=\"index + 1 !== busArrivalData.length\"></div>\n                    <a href=\"#\" @click.stop.prevent=\"addFrequentStop(item)\">\n                      <div class=\"circle point\" v-if=\"item.frequentStop === false\"></div>\n                      <div class=\"circle border-0\" v-else>\n                        <i class=\"fas fa-check-circle position-absolute text-second\"\n                          style=\"font-size: 25px; top: 0px; right: 0px;\"></i>\n                      </div>\n                    </a>\n                  </div>\n                  <span class=\"mx-4\" style=\"font-size: 17px\">{{ item.srrivalDisplay }}</span>\n                  <h6 class=\"mb-0 me-auto\" style=\"font-size: 17px\">{{ item.stopName }}</h6>\n                </a>\n              </div>\n            </template>\n            <template v-if=\"listSwitch === 'searchRoute'\">\n              <div class=\"d-flex mb-3\">\n                  <input type=\"text\" class=\"form-control input-main\"\n                      aria-label=\"Sizing example input\"\n                      aria-describedby=\"inputGroup-sizing-default\"\n                      placeholder=\"請輸入路線編號\"\n                      v-model=\"routeNumber\" @input=\"fliterRouteNumber\">\n              </div>\n            <div class=\"bg-light p-2 rounded datalist\" style=\"height: calc(100vh - 107px)\">\n              <ul class=\"list-unstyled\" v-if=\"routeData.length > 0\">\n                <li class=\"mb-3 text-light border-light\" v-for=\"item in routeData\" :key=\"item\">\n                  <a href=\"#\" class=\"text-decoration-none\" @click.prevent=\"routeSwitchToStop(item.RouteName.Zh_tw)\">\n                    <div class=\"card border-0 shadow-sm\">\n                      <div class=\"card-header bg-second px-2 py-1 text-light\">\n                        {{ item.RouteName.Zh_tw }}\n                      </div>\n                      <div class=\"card-body px-2 py-1 text-main\">\n                      {{ item.DepartureStopNameZh }} - {{ item.DestinationStopNameZh }}\n                      </div>\n                    </div>\n                  </a>\n                </li>\n              </ul>\n              </div>\n            </template>\n\n            <template v-if=\"listSwitch === 'nearbyStation'\">\n              <div class=\"d-flex align-items-center mb-2\">\n                <h5 class=\"text-main me-auto mb-0\">您附近的車站有...</h5>\n                <a class=\"text-decoration-none text-main\" style=\"font-size: 26px\" href=\"#\"\n                    @click.prevent=\"gps\">\n                  <i class=\"fas fa-map-marker-alt\"></i>\n                </a>\n              </div>\n              <div class=\"bg-light p-2 rounded datalist\" style=\"height: calc(100vh - 107px)\">\n              <ul class=\"list-unstyled\">\n                <li class=\"mb-3 text-light border-light\"\n                    v-for=\"item in nearestStationDisplay\" :key=\"item\">\n                  <a href=\"#\" class=\"text-decoration-none\" @click.prevent=\"itemPopup(item)\">\n                    <div class=\"card border-0 shadow-sm\">\n                      <div class=\"card-header bg-second px-2 py-1 text-light\">\n                        {{ item.routeName }}\n                      </div>\n                      <div class=\"card-body px-2 py-1 text-main\">\n                        <p class=\"mb-1\">方向：{{ item.directionStopName }}</p>\n                        <div class=\"d-flex align-items-center mb-1\">\n                          <span class=\"me-auto\">站名：{{ item.stopName }}</span>\n                          <a href=\"#\"  @click.stop.prevent=\"addFrequentStop(item)\">\n                            <div class=\"circle point\" v-if=\"item.frequentStop === false\"></div>\n                            <div class=\"circle border-0\" v-else>\n                              <i class=\"fas fa-check-circle position-absolute text-second\"\n                                style=\"font-size: 25px; top: 0px; right: 0px;\"></i>\n                            </div>\n                          </a>\n                        </div>\n                        <p class=\"mb-1\">時間：{{ item.srrivalDisplay }}</p>\n                      </div>\n                    </div>\n                  </a>\n                </li>\n              </ul>\n              </div>\n            </template>\n\n            <template v-if=\"listSwitch === 'frequentStop'\">\n              <div class=\"d-flex align-items-center mb-2\">\n                <h5 class=\"text-main mb-0\">您常搭的車站有...</h5>\n              </div>\n              <div class=\"bg-light p-2 rounded datalist\" style=\"height: calc(100vh - 107px)\">\n              <ul class=\"list-unstyled\">\n                <li class=\"mb-3 text-light border-light\" v-for=\"item in frequentData\" :key=\"item\">\n                  <a href=\"#\" class=\"text-decoration-none\" @click.prevent.stop=\"itemPopup(item)\">\n                    <div class=\"card border-0 shadow-sm\">\n                      <div class=\"card-header bg-second px-2 py-1 text-light d-flex\">\n                        <p class=\"text-light mb-0\">{{ item.routeName }}</p>\n                        <a href=\"#\" class=\"text-light ms-auto\"\n                           @click.prevent.stop=\"removeFrequentStop(item)\">\n                            <i class=\"fas fa-times-circle\"></i>\n                          </a>\n                      </div>\n                      <div class=\"card-body px-2 py-1 text-main\">\n                        <p class=\"mb-1\">方向：{{ item.directionStopName }}</p>\n                        <p class=\"mb-1\">站名：{{ item.stopName }}</p>\n                        <p class=\"mb-1\">時間：{{ item.srrivalDisplay }}</p>\n                      </div>\n                    </div>\n                  </a>\n                </li>\n              </ul>\n              </div>\n            </template>\n          </div>\n        </div>\n        <div class=\"col-md-5 col-lg-7 d-none d-md-block\">\n          <div id=\"map\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { toRefs, inject, onMounted } from 'vue';\nimport L from 'leaflet';\nimport jsSHA from 'jssha';\n\nexport default {\n  name: 'home',\n  setup() {\n    const khStore = inject('khStore');\n    const { state } = khStore;\n    let map;\n\n    const listSwitchControl = (listName) => {\n      state.listSwitch = listName;\n      removeCircle();\n      removeMark();\n    };\n\n    const fliterRouteNumber = () => {\n      khStore.fetchKhLocation(state.routeNumber);\n    };\n\n    const directionSwitch = () => {\n      if (state.direction) {\n        state.direction = 0;\n      } else {\n        state.direction = 1;\n      }\n      map.eachLayer((layer) => {\n        if (layer instanceof L.Marker) {\n          map.removeLayer(layer);\n        }\n      });\n      fetchStation(state.routeName);\n    }\n\n    const routeSwitchToStop = (item) => {\n      state.listSwitch = 'searchRoute_stop';\n      state.routeName = item;\n      fetchStation(item);\n    };\n\n    const goBacklist = () => {\n      state.listSwitch = 'searchRoute';\n      map.eachLayer((layer) => {\n        if (layer instanceof L.Marker) {\n          map.removeLayer(layer);\n          map.closePopup();\n        }\n      });\n    };\n\n    onMounted(() => {\n      map = L.map('map', {\n        center: [22.62, 120.31],\n        minZoom: 8,\n        maxZoom: 18,\n        zoom: 14,\n        zoomControl: true,\n        attributionControl: false,\n      });\n\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\n      setInterval(updateData, 30000);\n    });\n\n    const updateData = () => {\n      if (state.listSwitch === 'searchRoute_stop') {\n        fetchStation(state.routeName);\n      }\n\n      if (state.listSwitch === 'nearbyStation') {\n        gps();\n      }\n\n      if (state.listSwitch === 'frequentStop') {\n        testfrequenStop();\n      }\n    };\n\n  const fetchStation = async (item) => {\n    const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/Kaohsiung/${item}?&$format=JSON`;\n    const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n  \n    if (json.length === 1) {\n      state.oneWay = true;\n      state.direction = 0;\n    } else {\n      state.oneWay = false;\n    }\n\n    const last = json[state.direction].Stops.length - 1;\n    const directionData = {\n      routeName: json[state.direction].RouteName.Zh_tw,\n      stopName: json[state.direction].Stops,\n    };\n    state.directionName = json[state.direction].Stops[last].StopName.Zh_tw,\n    getBusArrivalTime(item, directionData); \n  };\n\n  const getBusArrivalTime = async (item, directionData) => {\n    const url = `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Kaohsiung/${item}?&$format=JSON`;\n    const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n\n    const filterDirection = json.filter(\n      item => item.Direction === state.direction || item.Direction === 255);\n  \n  if (state.busArrivalData !== []) {\n    state.busArrivalData.splice(0, state.busArrivalData.length);\n  }\n  directionData.stopName.forEach(item1 => {\n    filterDirection.forEach(item2 => {\n      if (item1.StopName.Zh_tw === item2.StopName.Zh_tw && directionData.routeName === item2.RouteName.Zh_tw) {\n        state.busArrivalData.push({\n          direction: item2.Direction,\n          directionStopName: state.directionName,\n          routeName: item2.RouteName.Zh_tw,\n          stopName: item2.StopName.Zh_tw,\n          stopStatus: item2.StopStatus,\n          isLastBus: item2.IsLastBus || '',\n          nextBusTime: item2.NextBusTime || '',\n          estimateTime: item2.EstimateTime / 60 || '',\n          srrivalDisplay: estimatedArrivalDisplay(item2),\n          positionLat: item1.StopPosition.PositionLat,\n          positionLon: item1.StopPosition.PositionLon,\n          frequentStop: frequentStopJudge({\n            stopName: item2.StopName.Zh_tw,\n            routeName: state.routeName,\n            direction: item2.Direction,\n          }),\n        });\n      }\n    });\n  });\n  const len = state.busArrivalData.length;\n  let center = Math.round(len / 2);\n  if (center === 1) {\n    center = 0;\n  }\n  const centerArray = [state.busArrivalData[center].positionLat, state.busArrivalData[center].positionLon];\n  const distance = Math.round(\n    map.distance(\n      [state.busArrivalData[0].positionLat, state.busArrivalData[0].positionLon],\n      [state.busArrivalData[len - 1].positionLat, state.busArrivalData[len - 1].positionLon]\n      )\n    );\n  const centerZoom = distance > 3000 ? 13 : 14;\n  removeMark();\n  getMark(state.busArrivalData);\n  map.setView(centerArray, centerZoom);\n};\n\nconst frequentStopJudge = (item) => {\n  const len = state.frequentJudge.length;\n  if (len === 0) {\n    return false;\n  }\n  for (let i = 0; i < len; i++) {\n    if (state.frequentJudge[i].stopName === item.stopName && state.frequentJudge[i].routeName === item.routeName && state.frequentJudge[i].direction === item.direction) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst getAuthorizationHeader = () => {\n  const AppID = '41ece8284df9490b85929bce0820b67a';\n  const AppKey = '6dsr-IWEI6Zf2HVmsdal0dUthnU';\n  const GMTString = new Date().toGMTString();\n  const ShaObj = new jsSHA('SHA-1', 'TEXT');\n  ShaObj.setHMACKey(AppKey, 'TEXT');\n  ShaObj.update(`x-date: ${GMTString}`);\n  const HMAC = ShaObj.getHMAC('B64');\n  const Authorization =\n        'hmac username=\"' +\n        AppID +\n        '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' +\n        HMAC +\n        '\"'\n      return { Authorization: Authorization, 'X-Date': GMTString }\n};\n\nconst estimatedArrivalDisplay = (item) => {\n  const minute = item.EstimateTime / 60 || '';\n  if (item.StopStatus === 0) {\n    if (minute === '') {\n      return '進站中';\n    }\n\n    if (minute === 1) {\n      return '即將進站';\n    } else {\n      return `${minute} 分`;\n    }\n  }\n\n  if (item.StopStatus === 1) {\n    if (minute === '' && item.NextBusTime === '' || !item.NextBusTime) {\n      return '尚未發車';\n    } else {\n      return timeArrayToString(item.NextBusTime) || '';\n    }\n  }\n\n  if (item.StopStatus === 3) {\n    return '末班駛離';\n  }\n\n  if (item.StopStatus === 2) {\n    return '交管不停靠';\n  }\n\n  if (item.StopStatus === 4) {\n    return '今日未營運';\n  }\n};\n\nconst timeArrayToString = (time) => {\n  const timeArray = Array.from(time);\n  const T = timeArray.indexOf('T');\n  return timeArray.filter((item, index) => index > T && index < T + 6).join('');\n};\n\nconst itemPopup = (item) => {\n  const centerArray = [item.positionLat, item.positionLon];\n  const popup = L.popup({\n      minWidth: 200,\n    });\n  popup.setLatLng([item.positionLat, item.positionLon]);\n  popup.setContent(`${item.stopName}`);\n  map.openPopup(popup);\n  map.setView(centerArray, 16);\n};\n\nconst gps = (e) => {\n  state.listSwitch = 'nearbyStation';\n  map.locate({setView: true, watch: false});\n  map.on('locationfound', onLocationFound);\n};\n\nconst onLocationFound = (e) => {\n  removeMark();  \n  removeCircle();\n  state.nearestStationDisplay = [];\n  state.myLocation = {\n    positionLat: e.latlng.lat,\n    positionLon: e.latlng.lng,\n  };\n  // 半徑 50 公尺\n  // 1 公尺約 0.00000900900901度\n  const marker = L.marker([state.myLocation.positionLat, state.myLocation.positionLon]).addTo(map);\n  const circle = L.circle([state.myLocation.positionLat, state.myLocation.positionLon], {\n    color: 'red',\n    fillColor: '#f03',\n    fillOpacity: 0.5,\n    radius: 200\n  }).addTo(map);\n  \n  const range = 0.000006688 * 200;\n  const positionRange = {\n    latTop: state.myLocation.positionLat + range,\n    latDown: state.myLocation.positionLat- range,\n    lngLeft: state.myLocation.positionLon - range,\n    lngRight: state.myLocation.positionLon + range,\n  }\n  getAllStationPosition(positionRange);\n};\n// 暫名\nconst getTime = async(nearestStation) => {\n  const url = 'https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Kaohsiung?%24format=JSON';\n  const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n\n  for (let j = 0; j < nearestStation.length; j++) {\n    for (let i = 0; i < json.length; i++) {\n      if (nearestStation[j].stopName === json[i].StopName.Zh_tw && nearestStation[j].direction === json[i].Direction && nearestStation[j].routeName === json[i].SubRouteName.Zh_tw) {\n        state.nearestStationDisplay.push({\n          direction: nearestStation[j].direction,\n          positionLat: nearestStation[j].position[0],\n          positionLon: nearestStation[j].position[1],\n          stopName: nearestStation[j].stopName,\n          routeName: nearestStation[j].routeName,\n          directionStopName: nearestStation[j].directionStopName.StopName.Zh_tw,\n          srrivalDisplay: estimatedArrivalDisplay({\n            EstimateTime: json[i].EstimateTime,\n            StopStatus: json[i].StopStatus,\n            NextBusTime: json[i].NextBusTime\n          }),\n          estimateTime: json[i].EstimateTime || '',\n          stopStatus: json[i].StopStatus,\n          nextBusTime: json[i].NextBusTime || '',\n          frequentStop: frequentStopJudge({\n            stopName: nearestStation[j].stopName,\n            routeName: nearestStation[j].routeName,\n            direction: nearestStation[j].direction,\n          }),\n        });\n      }\n    }\n  }\n  getMark(state.nearestStationDisplay);\n}\n\nconst getAllStationPosition = async(range) => {\n  const url = 'https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/Kaohsiung?%24format=JSON';\n  const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n  const nearestStation = [];\n  for (let i = 0; i < json.length; i++) {\n    for (let j = 0; j < json[i].Stops.length; j++) {\n      if (json[i].Stops[j].StopPosition.PositionLat <= range.latTop && json[i].Stops[j].StopPosition.PositionLat >= range.latDown) {\n        if(json[i].Stops[j].StopPosition.PositionLon <= range.lngRight && json[i].Stops[j].StopPosition.PositionLon  >= range.lngLeft) {\n          nearestStation.push({\n            direction: json[i].Direction,\n            position: [json[i].Stops[j].StopPosition.PositionLat, json[i].Stops[j].StopPosition.PositionLon],\n            stopName: json[i].Stops[j].StopName.Zh_tw,\n            routeName: json[i].RouteName.Zh_tw,\n            directionStopName: json[i].Stops[json[i].Stops.length - 1],\n          });\n        }\n      }\n    }\n  }\n  getTime(nearestStation);\n};\n\n\nconst testfrequenStop = async() => {\n  state.frequentData = [];\n  khStore.getFrequentJudge();\n  const url = 'https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Kaohsiung?%24format=JSON';\n  const json = await fetch(url, { headers: getAuthorizationHeader() }).then((res) => res.json());\n\n  state.frequentJudge.forEach(item1 => {\n    json.forEach(item2 => {\n      if (item1.direction === item2.Direction && item1.routeName === item2.RouteName.Zh_tw && item1.stopName === item2.StopName.Zh_tw) {\n        state.frequentData.push({\n          direction: item1.direction,\n          directionStopName: item1.directionStopName,\n          estimateTime: item1.estimateTime,\n          frequentStop: item1.frequentStop,\n          isLastBus: item1.isLastBus,\n          nextBusTime: item1.nextBusTime,\n          positionLat: item1.positionLat,\n          positionLon: item1.positionLon,\n          routeName: item1.routeName,\n          stopName: item1.stopName,\n          stopStatus: item1.stopStatus,\n          srrivalDisplay: estimatedArrivalDisplay({\n            EstimateTime: item2.EstimateTime,\n            StopStatus: item2.StopStatus,\n            NextBusTime: item2.NextBusTime,\n          }),\n        });\n      }\n    });\n  });\n};\n\n\nconst frequenStopMark = () => {\n  removeCircle();\n  removeMark();\n  testfrequenStop();\n  state.listSwitch = 'frequentStop';\n  const len = state.frequentJudge.length;\n  if (len === 0) {\n    return;\n  }\n  let center = Math.round(len / 2);\n  if (center === 1) {\n    center = 0;\n  }\n  const centerArray = [state.frequentJudge[center].positionLat, state.frequentJudge[center].positionLon];\n  state.frequentJudge.forEach(item => {\n    const marker = L.marker([item.positionLat, item.positionLon]);\n    map.addLayer(marker);\n    const popup = L.popup({\n      minWidth: 200,\n    });\n\n    popup.setContent(`${item.stopName}`);\n    marker.bindPopup(popup);\n  });\n\n  map.setView(centerArray, 14);\n};\n\nconst addFrequentStop = (item) => {\n  const template = {\n    ...item,\n  }\n\n  let array = [];\n  if (state.listSwitch === 'searchRoute_stop') {\n    array = state.busArrivalData;\n  }\n\n  if (state.listSwitch === 'nearbyStation') {\n    array = state.nearestStationDisplay;\n  }\n\n  if (item.frequentStop) {\n    array.forEach(item2 => {\n      if(item.stopName === item2.stopName && item.direction === item2.direction && item.routeName === item2.routeName) {\n        item2.frequentStop = false;\n      }\n    });\n    removeFrequentStop(template);\n  } else {\n    array.forEach(item2 => {\n      if(item.stopName === item2.stopName && item.direction === item2.direction && item.routeName === item2.routeName) {\n        item2.frequentStop = true;\n      }\n    });\n    template.frequentStop = true;\n    state.frequentJudge.push(template);\n    localStorage.setItem('frequentJudge', JSON.stringify(state.frequentJudge));\n  }\n};\n\nconst removeFrequentStop = (removeItem) => {\n  state.frequentJudge.forEach((item, index) => {\n    if (item.directionStopName === removeItem.directionStopName) {\n      if (item.routeName === removeItem.routeName && item.stopName === removeItem.stopName) {\n        state.frequentJudge.splice(index, 1);\n        state.frequentData.splice(index, 1);\n      }\n    }\n  });\n  localStorage.setItem('frequentJudge', JSON.stringify(state.frequentJudge));\n  if (state.listSwitch === 'frequentStop') {\n    removeMark();\n    getMark(state.frequentJudge);\n  }\n};\n\nconst getMark = (array) => {\n  array.forEach(item => {\n    const marker = L.marker([item.positionLat, item.positionLon]);\n    map.addLayer(marker);\n    const popup = L.popup({\n      minWidth: 200,\n    });\n\n    popup.setContent(`${item.stopName}`);\n    marker.bindPopup(popup);\n  });\n};\n\nconst removeMark = () => {\n  map.eachLayer((layer) => {\n    if (layer instanceof L.Marker) {\n      map.removeLayer(layer);\n      map.closePopup();\n    }\n  });\n};\n\nconst removeCircle = () => {\n  map.eachLayer((layer) => {\n    if (layer instanceof L.Circle) {\n      map.removeLayer(layer);\n      map.closePopup();\n    }\n  });\n};\n\n    return {\n      ...toRefs(state),\n      fliterRouteNumber,\n      directionSwitch,\n      routeSwitchToStop,\n      goBacklist,\n      fetchStation,\n      getAuthorizationHeader,\n      estimatedArrivalDisplay,\n      timeArrayToString,\n      itemPopup,\n      gps,\n      onLocationFound,\n      getAllStationPosition,\n      addFrequentStop,\n      removeFrequentStop,\n      frequentStopJudge,\n      listSwitchControl,\n      frequenStopMark,\n      testfrequenStop,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"src/assets/helper/all.scss\";\n$main-color: #34495E;\n\n$main-dark-color: #263645;\n\n$second-color: #11787a;\n\n$light-color: #FAFAFA;\n\n.nav-main.nav-active {\n  color: $main-color;\n  background: $light-color;\n  border-right: 3px solid $main-color;\n  &:hover {\n    color: $main-color;\n    background: $light-color;\n  }\n}\n\n.nav-main {\n  color: $light-color;\n  &:hover {\n    background: $light-color;\n    color: $main-color;\n  }\n}\n\n.smkeyboard-style {\n  position: absolute;\n  border-top: 1px solid  $light-color;\n  top: 70px;\n  left: 95px;\n  right: 20px;\n  padding: 2px;\n  z-index: 1;\n}\n\n.smkeyboard-down-style {\n  color: $light-color;\n  font-size: 30px;\n  &:hover {\n    color: $light-color;\n  }\n}\n\n.datalist {\n  overflow: auto;\n  margin-left: -10px;\n  &::-webkit-scrollbar { width: 10px; }\n  &::-webkit-scrollbar-track-piece{ background: #f1f1f1; border-radius: 10px; }\n  &::-webkit-scrollbar-thumb { background: $main-color; border-radius: 10px; }\n  &::-webkit-scrollbar-thumb:hover { background: $main-dark-color; }\n}\n\n.circle {\n  position: relative;\n  border: 3px solid $second-color;\n  border-radius: 50%;\n  width: 25px;\n  height: 25px;\n  background-color: $light-color;\n}\n\n.circle.point::after {\n  position: absolute;\n  content: \"\";\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: $second-color;\n  top: 2px;\n  right: 2px;\n}\n\n.line::before {\n  position: absolute;\n  content: \"\";\n  width: 5px;\n  height: 260%;\n  background-color: $gary-color;\n  left: 10px;\n}\n\n</style>\n","import { render } from \"./Home.vue?vue&type=template&id=1556f3e6\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=1556f3e6&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\chuan\\\\Desktop\\\\tkbus\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\n\nexport default router;\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\ncreateApp(App).use(router).mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Home.vue?vue&type=style&index=0&id=1556f3e6&lang=scss\""],"sourceRoot":""}